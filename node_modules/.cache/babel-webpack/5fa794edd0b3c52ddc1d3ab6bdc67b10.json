{"ast":null,"code":"import _asyncToGenerator from \"/home/fernando/Documents/completo/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { ProductoLocal } from '../../modelo/productolocal.class';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class GestionDistribuidorService {\n  constructor(http) {\n    this.http = http;\n    this.productos = [];\n    this.localactio = [];\n    this.http.get('http://127.0.0.1:8080/api/productosinlocal/' + localStorage.getItem(\"localactivo\")).subscribe(resp => {\n      console.log(resp);\n      this.productoslocal = resp;\n    });\n  }\n\n  get getproductofaltantes() {\n    return this.productos;\n  }\n\n  agregar(producto, precio) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      let productolocal = new ProductoLocal(0, precio, _this.localactio[0], producto);\n\n      const promesa = _this.http.post('http://127.0.0.1:8080/api/productolocal', productolocal).toPromise();\n\n      return promesa.then(value => {\n        return true;\n      });\n    })();\n  }\n\n}\n\nGestionDistribuidorService.ɵfac = function GestionDistribuidorService_Factory(t) {\n  return new (t || GestionDistribuidorService)(i0.ɵɵinject(i1.HttpClient));\n};\n\nGestionDistribuidorService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: GestionDistribuidorService,\n  factory: GestionDistribuidorService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["/home/fernando/Documents/completo/src/app/gestion-distribuidor/service/gestion-distribuidor.service.ts"],"names":[],"mappings":";AACA,SAAS,aAAT,QAA8B,kCAA9B;;;AASA,OAAM,MAAO,0BAAP,CAAiC;AAErC,EAAA,WAAA,CAAoB,IAApB,EAAmC;AAAf,SAAA,IAAA,GAAA,IAAA;AAIb,SAAA,SAAA,GAAuB,EAAvB;AACP,SAAA,UAAA,GAAmB,EAAnB;AAJE,SAAK,IAAL,CAAU,GAAV,CAA0B,gDAA8C,YAAY,CAAC,OAAb,CAAqB,aAArB,CAAxE,EAA6G,SAA7G,CAAwH,IAAD,IAAmB;AAAC,MAAA,OAAO,CAAC,GAAR,CAAY,IAAZ;AAAkB,WAAK,cAAL,GAAoB,IAApB;AAA0B,KAAvL;AACA;;AAKsB,MAApB,oBAAoB,GAAA;AAEtB,WAAO,KAAK,SAAZ;AACD;;AAIK,EAAA,OAAO,CAAC,QAAD,EAAmB,MAAnB,EAAgC;AAAA;;AAAA;AAC3C,UAAI,aAAa,GAAiB,IAAI,aAAJ,CAAkB,CAAlB,EAAoB,MAApB,EAA2B,KAAI,CAAC,UAAL,CAAgB,CAAhB,CAA3B,EAA8C,QAA9C,CAAlC;;AACA,YAAM,OAAO,GAAE,KAAI,CAAC,IAAL,CAAU,IAAV,CAAoB,yCAApB,EAA8D,aAA9D,EAA6E,SAA7E,EAAf;;AACA,aAAO,OAAO,CAAC,IAAR,CAAa,KAAK,IAAE;AAAC,eAAO,IAAP;AAAY,OAAjC,CAAP;AAH2C;AAI5C;;AApBoC;;;mBAA1B,0B,EAA0B,EAAA,CAAA,QAAA,CAAA,EAAA,CAAA,UAAA,C;AAAA,C;;;SAA1B,0B;AAA0B,EAAA,OAAA,EAA1B,0BAA0B,CAAA,I;AAAA,EAAA,UAAA,EAFzB","sourcesContent":["import { Injectable } from '@angular/core';\nimport { ProductoLocal } from '../../modelo/productolocal.class';\nimport { Producto } from '../../modelo/producto.class';\nimport {HttpClient} from \"@angular/common/http\"\nimport { Local } from '../../modelo/local.class';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GestionDistribuidorService {\n\n  constructor(private http:HttpClient) {\n    this.http.get<Producto[]>('http://127.0.0.1:8080/api/productosinlocal/'+localStorage.getItem(\"localactivo\")).subscribe((resp:PRoducto[])=>{console.log(resp);this.productoslocal=resp;});\n   }\n  \n  public productos:Producto[] = []\n  localactio:Local[]=[]\n\n  get getproductofaltantes(){\n\n    return this.productos\n  }\n  \n\n\n  async agregar(producto:Producto,precio:number){\n    let productolocal:ProductoLocal = new ProductoLocal(0,precio,this.localactio[0],producto)\n    const promesa= this.http.post<any>('http://127.0.0.1:8080/api/productolocal',productolocal).toPromise();\n    return promesa.then(value=>{return true});\n  }\n  \n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}